{
    "name": "OpenAI Chat Workflow",
    "description": "A workflow that uses OpenAI for chat completion",
    "data": {
        "nodes": [
            {
                "id": "ChatInput-input1",
                "data": {
                    "type": "ChatInput",
                    "node": {
                        "template": {
                            "input_value": {
                                "type": "str",
                                "value": "",
                                "info": "User message input",
                                "required": true
                            }
                        },
                        "outputs": [
                            {
                                "name": "message",
                                "method": "message_response",
                                "types": ["Message"]
                            }
                        ]
                    },
                    "outputs": [
                        {
                            "name": "message",
                            "method": "message_response",
                            "types": ["Message"]
                        }
                    ]
                }
            },
            {
                "id": "OpenAIModel-llm1",
                "data": {
                    "type": "LanguageModelComponent",
                    "node": {
                        "template": {
                            "api_key": {
                                "type": "str",
                                "value": "${OPENAI_API_KEY}",
                                "_input_type": "SecretStrInput",
                                "info": "OpenAI API Key",
                                "required": true
                            },
                            "model_name": {
                                "type": "dropdown",
                                "options": ["gpt-3.5-turbo", "gpt-4", "gpt-4o"],
                                "value": "gpt-3.5-turbo", 
                                "info": "Model to use for generation"
                            },
                            "temperature": {
                                "type": "float",
                                "value": 0.7,
                                "info": "Temperature for response randomness",
                                "range_spec": {"min": 0.0, "max": 2.0, "step": 0.1}
                            },
                            "system_message": {
                                "type": "str",
                                "value": "You are a helpful AI assistant.",
                                "info": "System message for the model"
                            }
                        },
                        "outputs": [
                            {
                                "name": "response",
                                "method": "text_response",
                                "types": ["Message"]
                            }
                        ]
                    },
                    "outputs": [
                        {
                            "name": "response",
                            "method": "generate_response",
                            "types": ["Message"]
                        }
                    ]
                }
            },
            {
                "id": "ChatOutput-output1",
                "data": {
                    "type": "ChatOutput",
                    "node": {
                        "template": {
                            "input_value": {
                                "type": "str", 
                                "value": "",
                                "info": "Message to output"
                            }
                        },
                        "outputs": [
                            {
                                "name": "message",
                                "method": "message_response",
                                "types": ["Message"]
                            }
                        ]
                    },
                    "outputs": [
                        {
                            "name": "message",
                            "method": "message_response",
                            "types": ["Message"]
                        }
                    ]
                }
            }
        ],
        "edges": [
            {
                "source": "ChatInput-input1",
                "target": "OpenAIModel-llm1",
                "data": {
                    "sourceHandle": {
                        "name": "message"
                    },
                    "targetHandle": {
                        "fieldName": "input_value"
                    }
                }
            },
            {
                "source": "OpenAIModel-llm1", 
                "target": "ChatOutput-output1",
                "data": {
                    "sourceHandle": {
                        "name": "response"
                    },
                    "targetHandle": {
                        "fieldName": "input_value"
                    }
                }
            }
        ]
    }
}