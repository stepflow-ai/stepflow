schema: https://stepflow.org/schemas/v1/flow.json
name: MCP Filesystem Example
description: Demonstrates using MCP filesystem tools to read and write files
schemas:
  type: object
  properties:
    input:
      type: object
      properties:
        filename:
          type: string
          description: Name of the file to create
          default: /tmp/stepflow-mcp-example.txt
        content:
          type: string
          description: Content to write to the file
          default: Hello from Stepflow using MCP tools!
      required:
      - filename
      - content
steps:
- id: create_file
  component: /filesystem/write_file
  input:
    path:
      $input: filename
    content:
      $input: content
- id: read_file
  component: /filesystem/read_text_file
  depends_on:
  - create_file
  input:
    path:
      $input: filename
- id: list_directory
  component: /filesystem/list_directory
  depends_on:
  - create_file
  input:
    path: /private/tmp
output:
  file_path:
    $input: filename
  file_content:
    $step: read_file
  directory_listing:
    $step: list_directory
  success_message:
    $template: 'Successfully created, read, and listed file: {{filename}}'
    values:
      filename:
        $input: filename
