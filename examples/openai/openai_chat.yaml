schema: https://stepflow.org/schemas/v1/flow.json
schemas:
  type: object
  properties:
    input:
      type: object
      required:
      - prompt
      properties:
        prompt:
          type: string
          description: The prompt to send to OpenAI
        system_message:
          type: string
          description: Optional system message to set context
          default: You are a helpful assistant, explaining complex things in simple terms.
steps:
- id: create_messages
  component: /create_messages
  input:
    system_instructions:
      $input: system_message
    user_prompt:
      $input: prompt
- id: send_message
  component: /openai
  input:
    messages:
      $step: create_messages
      path: messages
output:
  response:
    $step: send_message
    path: response
