schema: https://stepflow.org/schemas/v1/flow.json
name: parallel-bidirectional-test
description: Test parallel component execution with bidirectional communication
schemas:
  type: object
  properties:
    input:
      type: object
      properties:
        workflow_id:
          type: number
          description: Unique ID for this workflow run
    output:
      type: object
      properties:
        blob_id_1:
          type: string
        blob_id_2:
          type: string
        blob_id_3:
          type: string
steps:
- id: blob_test_1
  component: /python/store_and_retrieve_blob
  input:
    data:
      $input: $
- id: blob_test_2
  component: /python/store_and_retrieve_blob
  input:
    data:
      $input: $
- id: blob_test_3
  component: /python/store_and_retrieve_blob
  input:
    data:
      $input: $
output:
  blob_id_1:
    $step: blob_test_1
    path: $.blob_id
  blob_id_2:
    $step: blob_test_2
    path: $.blob_id
  blob_id_3:
    $step: blob_test_3
    path: $.blob_id
