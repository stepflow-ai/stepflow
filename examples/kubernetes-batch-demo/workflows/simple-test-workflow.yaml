schema: https://stepflow.org/schemas/v1/flow.json
name: simple-test-workflow
description: Simple workflow to test k8s component execution
schemas:
  type: object
  properties:
    input:
      type: object
      properties:
        value:
          type: number
          description: Input value to process
    output:
      type: object
      properties:
        original:
          type: number
        doubled:
          type: number
        squared:
          type: number
        sum:
          type: number
steps:
- id: double_it
  component: /python/double
  input:
    value:
      $input: value
- id: square_it
  component: /python/square
  input:
    value:
      $step: double_it
      path: result
- id: add_them
  component: /python/add
  input:
    a:
      $input: value
    b:
      $step: square_it
      path: result
output:
  original:
    $input: value
  doubled:
    $step: double_it
    path: result
  squared:
    $step: square_it
    path: result
  sum:
    $step: add_them
    path: result
