---
source: crates/stepflow-cli/tests/commands/test_visualize.rs
info:
  program: stepflow
  args:
    - "--log-file=/dev/null"
    - "--omit-stack-trace"
    - visualize
    - "--flow=tests/mock/conditional_skip.yaml"
    - "--format=dot"
  env:
    STEPFLOW_LOG_DESTINATION: ""
    STEPFLOW_LOG_FILE: ""
    STEPFLOW_LOG_FORMAT: ""
    STEPFLOW_LOG_LEVEL: ""
    STEPFLOW_OTHER_LOG_LEVEL: ""
    STEPFLOW_OTLP_ENDPOINT: ""
    STEPFLOW_TRACE_ENABLED: ""
---
success: true
exit_code: 0
----- stdout -----
digraph workflow {
  rankdir=TB;
  node [shape=box, style=filled];
  edge [fontsize=10];

  "workflow_input" [
    label="ðŸ“¥ Workflow Input",
    fillcolor="lightblue",
    shape=ellipse,
    tooltip="Workflow: Unnamed\\nInput Schema: Available",
  ];

  "conditional_step" [
    label="ðŸ”§ conditional_step\nðŸ“¦ /mock/one_output\nðŸ–¥ï¸ mock",
    fillcolor="lightcoral",
    tooltip="Step: conditional_step\\nComponent: /mock/one_output\\nSkip Condition: Present",
  ];
  "dependent_step" [
    label="ðŸ”§ dependent_step\nðŸ“¦ /mock/handle_skip\nðŸ–¥ï¸ mock",
    fillcolor="lightcoral",
    tooltip="Step: dependent_step\\nComponent: /mock/handle_skip",
  ];
  "workflow_output" [
    label="ðŸ“¤ Workflow Output",
    fillcolor="lightgreen",
    shape=ellipse,
    tooltip="Workflow: Unnamed\\nOutput Schema: Available",
  ];

  "workflow_input" -> "conditional_step" [
    color="black",
    style="solid",
  ];
  "workflow_input" -> "conditional_step" [
    color="purple",
    style="dotted",
    label="skip condition",
  ];
  "expr_0" [
    label="$coalesce",
    shape=diamond,
    fillcolor="lightcyan",
  ];

  "conditional_step" -> "expr_0" [
    label="0",
    color="blue",
  ];
  "expr_1" [
    label="null",
    shape=plaintext,
    fontsize=10,
  ];
  "expr_1" -> "expr_0" [
    label="1",
    color="blue",
  ];

  "expr_0" -> "dependent_step" [
    color="black",
    style="solid",
  ];
  "dependent_step" -> "workflow_output" [
    color="green",
    style="solid",
  ];
}


----- stderr -----
